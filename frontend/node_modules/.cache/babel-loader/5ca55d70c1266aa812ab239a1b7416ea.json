{"ast":null,"code":"import _regeneratorRuntime from \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/src/components/Login/Login.js\";\nimport React, { Component } from 'react';\nimport \"./signup.css\";\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.state = {\n      email: \"\",\n      password: \"\"\n    };\n    _this.onChangeLogin = _this.onChangeLogin.bind(_assertThisInitialized(_this));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"onChangeLogin\",\n    value: function onChangeLogin(e) {\n      e.preventDefault();\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function () {\n      var _onSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(e) {\n        var loginData, connectionReqResponse, user;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n                console.log(\"in submit\");\n                loginData = {\n                  Email: this.state.email,\n                  Password: this.state.password\n                };\n                _context.prev = 3;\n                _context.next = 6;\n                return axios.post('http://login-env.u67gpznbsg.us-east-1.elasticbeanstalk.com/login', loginData);\n\n              case 6:\n                connectionReqResponse = _context.sent;\n\n                if (connectionReqResponse.status === 201) {\n                  alert(\"Login successful!\");\n                  user = {\n                    email: connectionReqResponse.data.email,\n                    id: connectionReqResponse.data.id,\n                    name: connectionReqResponse.data.username\n                  };\n                  localStorage.setItem('user', JSON.stringify(user));\n                  this.props.history.push(\"/location\");\n                }\n\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](3);\n\n                if (_context.t0.response.status === 401) {\n                  alert(_context.t0.response.data.Message);\n                }\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 10]]);\n      }));\n\n      function onSubmit(_x) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signupNav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"signupSpan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \" \", React.createElement(\"a\", {\n        href: \"/\",\n        id: \"A_4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })))), React.createElement(\"div\", {\n        className: \"loginbox\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"signupheading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"LOGIN\"), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Don't have an account?\", React.createElement(Link, {\n        to: \"/signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \" Sign Up Now!\"), \" \"), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"signUpDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"email\",\n        className: \"signUpLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Email Id or Username\"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        onChange: this.onChangeLogin,\n        class: \"signUpInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"signUpDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        for: \"Password\",\n        className: \"signUpLabel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        onChange: this.onChangeLogin,\n        className: \"signUpInput\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"signUpDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        className: \"signUpButton\",\n        value: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/nivalireddy/Downloads/fa19-281-cloud-9/frontend/src/components/Login/Login.js"],"names":["React","Component","Link","axios","Login","props","state","email","password","onChangeLogin","bind","onSubmit","e","preventDefault","setState","target","name","value","console","log","loginData","Email","Password","post","connectionReqResponse","status","alert","user","data","id","username","localStorage","setItem","JSON","stringify","history","push","response","Message"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport \"./signup.css\";\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\n\nclass Login extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            email : \"\",\n            password : \"\"\n        }\n        this.onChangeLogin = this.onChangeLogin.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n    onChangeLogin (e) {\n        e.preventDefault();\n        this.setState({[e.target.name] : e.target.value})\n    }\n    async onSubmit(e){\n        e.preventDefault();\n        console.log(\"in submit\")\n        const loginData = {\n            Email : this.state.email,\n            Password : this.state.password\n        }\n        try{\n            const connectionReqResponse = await axios.post('http://login-env.u67gpznbsg.us-east-1.elasticbeanstalk.com/login', loginData)\n            if (connectionReqResponse.status === 201){\n                alert(\"Login successful!\");\n                let user = {\n                    email:connectionReqResponse.data.email,\n                    id: connectionReqResponse.data.id,\n                    name: connectionReqResponse.data.username\n                };\n                localStorage.setItem('user', JSON.stringify(user));\n                this.props.history.push(\"/location\");\n            }\n        }\n        catch(err) {\n            if (err.response.status === 401){\n                alert(err.response.data.Message)\n            }\n        }\n    }\n    render(){\n        return(\n            <div>\n                <div className=\"signup\">\n                    <div className=\"signupNav\">\n                        <span className=\"signupSpan\"> <a href=\"/\" id=\"A_4\"></a></span>\n                    </div>\n                </div>\n\n\n                <div className=\"loginbox\">\n                    <h1 className = \"signupheading\">LOGIN</h1>\n                    <center>Don't have an account?<Link to=\"/signup\"> Sign Up Now!</Link> </center>\n                    <form onSubmit = {this.onSubmit}>\n                        <div className = \"signUpDiv\">\n                            <label for=\"email\" className=\"signUpLabel\">\n                                Email Id or Username\n                            </label>\n                            <input type=\"text\" name = \"email\" onChange = {this.onChangeLogin} class=\"signUpInput\"/>\n                        </div>\n\n                        <div className = \"signUpDiv\">\n                            <label for=\"Password\" className=\"signUpLabel\">\n                                Password\n                            </label>\n                            <input type=\"password\" name = \"password\" onChange = {this.onChangeLogin} className=\"signUpInput\"/>\n                        </div>\n\n                        <div className = \"signUpDiv\">\n                            <input type=\"submit\" className=\"signUpButton\"  value=\"Login\"/>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n\n\n}\nexport default Login;"]},"metadata":{},"sourceType":"module"}